<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             xmlns:controls="clr-namespace:Plugin.MauiMTAdmob.Controls;assembly=Plugin.MauiMTAdmob"
             xmlns:local="clr-namespace:SecondsClient"
             x:Class="SecondsClient.MainPage">

    <Grid x:Name="MainGrid" Background="Black">
        <Grid.RowDefinitions>
            <RowDefinition x:Name="ScoreGridRow" Height="73"/>
            <RowDefinition x:Name="ProgressBarRow" Height="90"/>
            <RowDefinition x:Name="TargetSecondsRow" Height="*"/>
            <RowDefinition x:Name="StopButtonRow" Height="150"/>
            <RowDefinition x:Name="AdRow" Height="65"/>
        </Grid.RowDefinitions>

        <Grid x:Name="ScoreGrid" Grid.Row="0"  RowDefinitions="45,28" ColumnDefinitions="*,*,*">
            <Label x:Name="EasyModeTitleLabel" Grid.Row="0" Grid.Column="0"
                   Text="Easy Mode" 
                   FontSize="18" 
                   Padding="0"
                   Margin="0"
                   VerticalTextAlignment="Center"
                   HorizontalTextAlignment="Center"
                   FontFamily="Rubik-Regular.ttf"/>

            <Label x:Name="ScoreTitleLabel" Grid.Row="0" Grid.Column="1" 
                   Text="Score"
                   FontSize="18"
                   Padding="0"
                   Margin="0"
                   VerticalTextAlignment="Center"
                   HorizontalTextAlignment="Center"
                   FontFamily="Rubik-Regular.ttf"/>

            <Label x:Name="HighScoreTitleLabel" Grid.Row="0" Grid.Column="2"
                   FontSize="18"
                   Text="High"
                   Padding="0"
                   Margin="0"
                   VerticalTextAlignment="Center"
                   HorizontalTextAlignment="Center"
                   FontFamily="Rubik-Regular.ttf"/>

            <Switch x:Name="EasyModeSwitch" Grid.Row="1" Grid.Column="0" 
                    IsToggled = "{Binding EasyModeSwitchIsToggled}" 
                    HorizontalOptions="Center"
                    VerticalOptions="Center"
                    ScaleX="1.1"
                    ScaleY="1.1"
                    BackgroundColor="Black"
                    OnColor="White"/>

            <Label x:Name="ScoreLabel" Grid.Row="1" Grid.Column="1"  
                    Text="{Binding ScoreLabelText}"
                    FontSize="24" 
                    Padding="0"
                    Margin="0"
                    VerticalTextAlignment="Center"
                    HorizontalTextAlignment="Center"
                    HorizontalOptions="Center"
                    VerticalOptions="Center"
                    FontFamily="RubikMonoOne-Regular.ttf"
                    BackgroundColor="{Binding ScoreLabelBackgroundColor}"
                    TextColor="{Binding ScoreLabelTextColor}"/>

            <Label x:Name="HighScoreLabel" Grid.Row="1" Grid.Column="2"
                    Text="{Binding HighScoreLabelText}"
                    FontSize="24" 
                    Padding="0" 
                    Margin="0"
                    VerticalTextAlignment="Center"
                    HorizontalTextAlignment="Center"
                    HorizontalOptions="Center"
                    VerticalOptions="Center"
                    FontFamily="RubikMonoOne-Regular.ttf"
                    BackgroundColor="{Binding HighScoreLabelBackgroundColor}"
                    TextColor="{Binding HighScoreLabelTextColor}"/>

        </Grid>

        <ProgressBar x:Name="ReserveProgressBar" Grid.Row="1" 
            ScaleY="8" 
            Margin="20" 
            ProgressColor="#05C405"
            IsVisible="true">
            <ProgressBar.Behaviors>
                <toolkit:ProgressBarAnimationBehavior
                    x:Name="ProgressBarAnimationBehavior"
                    Progress="{Binding ReserveProgressProgressBar}" 
                    Length="250"/>
            </ProgressBar.Behaviors>
        </ProgressBar>


        <Grid Grid.Row="2"  ColumnDefinitions="20,*,20">
            <Label x:Name="StartPageLabel"  Grid.Column="1"
                FormattedText="{Binding StartPageLabelFormattedText}"
                IsVisible="{Binding StartPageLabelIsVisible}" 
                VerticalTextAlignment="Center"
                HorizontalTextAlignment="Center"
                BackgroundColor="Black"/>

            <Image x:Name="TargetSecondsImage"  Grid.Column="1"
                Source="{Binding TargetSecondsImageSource}"
                IsVisible="{Binding TargetSecondsImageIsVisible}">
            </Image>
            
            <ActivityIndicator x:Name="PauseActivityIndicator" Grid.Column="1"  
                IsRunning="True"
                IsVisible="{Binding PauseActivityIndicatorIsVisible}"
                Color="{Binding PauseActivityIndicatorColor}"/>


            <Label x:Name="GetReadyLabel" Grid.Column="1" 
                Text="{Binding GetReadyLabelText}"
                IsVisible="{Binding GetReadyLabelIsVisible}" 
                FontFamily="RubikMonoOne-Regular.ttf"
                FontSize="{Binding GetReadyLabelFontSize}"
                TextColor="White"
                VerticalTextAlignment="Center"
                HorizontalTextAlignment="Center"
                VerticalOptions="Center"
                HorizontalOptions="Center"/>

            <Label x:Name="AccuracyLabel" Grid.Column="1" 
                Text="{Binding AccuracyLabelText}"
                IsVisible="{Binding AccuracyLabelIsVisible}" 
                FontFamily="RubikMonoOne-Regular.ttf"
                FontSize="28"
                TextColor="{Binding AccuracyLabelTextColor}"
                VerticalTextAlignment="Center"
                HorizontalTextAlignment="Center"
                VerticalOptions="Center"
                HorizontalOptions="Center"/>

            <Label x:Name="GameOverLabel"  Grid.Column="1"
                FormattedText="{Binding GameOverLabelFormattedText}"
                IsVisible="{Binding GameOverLabelIsVisible}" 
                VerticalTextAlignment="Center"
                HorizontalTextAlignment="Center"
                BackgroundColor="Black" />

        </Grid>

        <ImageButton x:Name="PlayButton" Grid.Row="3" 
            MaximumHeightRequest="125"
            MaximumWidthRequest="125"
            BackgroundColor="Black" 
            Source="playbutton.svg"
            Command="{Binding StartGameCommand}" 
            IsEnabled="{Binding PlayButtonIsEnabled}"
            IsVisible="{Binding PlayButtonIsVisible}"/>


        <ImageButton x:Name="StopButton" Grid.Row="3"
            MaximumHeightRequest="125"
            MaximumWidthRequest="125"
            Source="{Binding StopButtonImageSource}"
            Command="{Binding StopCommand}" 
            IsEnabled="{Binding StopButtonIsEnabled}"
            IsVisible="{Binding StopButtonIsVisible}"
            BackgroundColor="Black" />

        <!--<controls:MTAdView x:Name="myAds" AdsId="ca-app-pub-3940256099942544/6300978111" Grid.Row="4"/>-->
        
    </Grid>

</ContentPage>
